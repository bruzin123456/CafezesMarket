@model IEnumerable<CafezesMarket.Models.Produto>

@{
    ViewData["Title"] = "Produtos";
}

@{
    var coresBox = new string[3] { "dark", "secondary", "light" };
    var coresText = new string[3] { "text-white", "text-white", "text-black" };
}

<link rel="stylesheet" href="~/css/product.css" />

<div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">
    <div class="col-md-5 p-lg-5 mx-auto">
        <h1 class="display-4 font-weight-normal">@Model.First().Titulo</h1>
        <p class="lead font-weight-normal">@Html.Raw(Model.First().Descricao ?? string.Empty)</p>
        <p>
            <a class="btn btn-lg btn-dark" href="/Produto/@Model.First().Id" role="button">detalhes</a>
            @if (Model.First().Quantidade == 0)
            {
                <a class="btn btn-lg btn-warning disabled" href="#" role="button">indisponivel</a>
            }
            else
            {
                <a class="btn btn-lg btn-warning" href="#" role="button">comprar</a>
            }
        </p>
    </div>
</div>


@for (int i = 1; i < Model.Count(); ++i)
{
    var produto = Model.ElementAt(i);
    <div class="d-md-flex flex-md-equal w-100 my-md-3 pl-md-3">
        <div class="bg-@coresBox[i % coresBox.Length] mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center @coresText[i % coresText.Length] overflow-hidden">
            <div class="my-3 py-3">
                <h2 class="display-5">@produto.Titulo</h2>
                <p class="lead" style="height: 150px">@Html.Raw(produto.Descricao ?? string.Empty)</p>
            </div>
            <div class="bg-@coresBox[(i + 1) % coresBox.Length] box-shadow mx-auto @coresText[(i + 1) % coresText.Length]" style="width: 80%; height: 100px; border-radius: 21px 21px 0 0;">
                <h3>@produto.Preco.ToString("C", new CultureInfo("pt-BR"))</h3>
                <p>
                    <a class="btn btn-lg btn-@coresBox[i % coresBox.Length]" href="/Produto/@produto.Id" role="button">detalhes</a>
                    @if (produto.Quantidade == 0)
                    {
                        <a class="btn btn-lg btn-warning disabled" href="#" role="button">indisponivel</a>
                    }
                    else
                    {
                        <a class="btn btn-lg btn-warning" href="#" role="button">comprar</a>
                    }
                </p>
            </div>
        </div>

        @if (++i < Model.Count())
        {
            produto = Model.ElementAt(i);
            <div class="bg-@coresBox[i % coresBox.Length] mr-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center @coresText[i % coresText.Length] overflow-hidden">
                <div class="my-3 p-3">
                    <h2 class="display-5">@produto.Titulo</h2>
                    <p class="lead" style="height: 150px">@Html.Raw(produto.Descricao ?? string.Empty)</p>
                </div>
                <div class="bg-@coresBox[(i + 1) % coresBox.Length] box-shadow mx-auto  @coresText[(i + 1) % coresText.Length]" style="width: 80%; height: 100px; border-radius: 21px 21px 0 0;">
                    <h3>@produto.Preco.ToString("C", new CultureInfo("pt-BR"))</h3>
                    <p>
                        <a class="btn btn-lg btn-@coresBox[i % coresBox.Length]" href="/Produto/@produto.Id" role="button">detalhes</a>
                        @if (produto.Quantidade == 0)
                        {
                            <a class="btn btn-lg btn-warning disabled" href="#" role="button">indisponivel</a>
                        }
                        else
                        {
                            <a class="btn btn-lg btn-warning" href="#" role="button">comprar</a>
                        }
                    </p>
                </div>
            </div>
        }
    </div>
}